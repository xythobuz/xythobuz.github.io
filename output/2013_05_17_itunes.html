<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Blog (#) xythobuz.de</title>
    <meta name="description" content="Electronics &amp; Software Projects" />
    <meta name="keywords" content="xythobuz" />
    <link rel="author" href="/xythobuz@xythobuz.de">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <script type="text/javascript" src="/js/sh_main.js"></script>
    <link type="text/css" rel="stylesheet" href="/css/sh_bright.min.css" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen" />
    <link rel="alternate" type="application/rss+xml" title="Blog" href="/rss.xml">
    <link rel="stylesheet" href="/css/gh-fork-ribbon.css" />
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>
    
</head>
<body onload="sh_highlightDocument('/js/sh/', '.min.js');">
    
    <div id="header">
        <h1>xythobuz.de</h1>
        <p><a href="http://xythobuz.de/lastmusic">♫</a></p>
        <h2>Blog</h2>
    </div>

    <nav>
        <ul id="menu">
        <li><a href="/index.html">Home</a>
</li>
<li><a href="/blog.html">Blog</a>
</li>
<li><a href="/contact.html">Contact</a>
</li>
<li><a href="/software.html">Software</a>
<ul>
<li><a href="/avrnetstack.html">avrNetStack</a>
</li>
<li><a href="/avrserial.html">AVR Serial Library</a>
</li>
<li><a href="/c250.html">Mio C250 Unlock</a>
</li>
<li><a href="/nas.html">IB-NAS6210 Linux</a>
</li>
<li><a href="/serialhelper.html">Serial Helper</a>
</li>
<li><a href="/ultimatenotifier.html">Ultimate Notifier Script</a>
</li>
<li><a href="/yasab.html">YASAB AVR Bootloader</a>
</li>
</ul>
</li>
<li><a href="/hardware.html">Hardware</a>
<ul>
<li><a href="/ledcube.html">8x8x8 LED Cube</a>
</li>
<li><a href="/xycontrol.html">xyControl</a>
</li>
<li><a href="/xyrobot.html">xyRobot</a>
<ul>
<li><a href="/bluetooth.html">Bluetooth UART (BTM-222)</a>
</li>
<li><a href="/k6x4008.html">K6x4008 SRAM</a>
</li>
<li><a href="/rremote.html">rRemote</a>
</li>
<li><a href="/xyrobotremote.html">xyRobotRemote</a>
</li>
</ul>
</li>
<li><a href="/ssop28.html">SSOP28 - DIL Adapter</a>
</li>
<li><a href="/serialdebug.html">Serial Debug</a>
</li>
<li><a href="/ledmatrix.html">LED Matrix</a>
</li>
</ul>
</li>
        </ul>
        
    </nav>

    <div id="content">
        <h2>Musik Script History</h2>
<p><em>Posted at May 17, 2013.</em></p>
<p>Ja, ich gebe zu, daß mein <a href="http://xythobuz.de/2013_05_09_itunes.html">Shell Skript</a> wirklich sehr hässlich war. Jetzt ist es zwar immer noch hässlich, aber nicht ganz so sehr. Und es merkt sich die letzten 10 gespielten Songs. Fuck yeah :D</p>
<p>Der Output ist nach wie vor <a href="http://xythobuz.de/lastmusic">hier zu sehen</a>...</p>
<pre class="sh_sh">
#!/bin/sh

lasttrack=`cat /Users/thomas/.lasttrack`
host=`hostname`
datum=`date`

if [ "$1" != "$lasttrack" ]; then
    if [ "$1" != "" ]; then
        echo "&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\" /&gt;&lt;title&gt;xythobuz listened to...&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;pre&gt;" &gt; /Users/thomas/.tmpfile
        echo "Last song played on &lt;b&gt;${host}&lt;/b&gt;'s iTunes:" &gt;&gt; /Users/thomas/.tmpfile
        echo &gt;&gt; /Users/thomas/.tmpfile
        echo "  &lt;b&gt;$1&lt;/b&gt;" &gt;&gt; /Users/thomas/.tmpfile
        echo "by" &gt;&gt; /Users/thomas/.tmpfile
        echo "  &lt;b&gt;$2&lt;/b&gt;" &gt;&gt; /Users/thomas/.tmpfile
        echo "on the Album" &gt;&gt; /Users/thomas/.tmpfile
        echo "  &lt;b&gt;$3&lt;/b&gt;" &gt;&gt; /Users/thomas/.tmpfile
        echo "at" &gt;&gt; /Users/thomas/.tmpfile
        echo "  &lt;i&gt;${datum}&lt;/i&gt;" &gt;&gt; /Users/thomas/.tmpfile
        echo &gt;&gt; /Users/thomas/.tmpfile
        echo "Last Songs played:" &gt;&gt; /Users/thomas/.tmpfile
        cat /Users/thomas/.trackhistory &gt;&gt; /Users/thomas/.tmpfile
        echo "&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;" &gt;&gt; /Users/thomas/.tmpfile

        scp /Users/thomas/.tmpfile zaphod:/var/www/lastmusic
        echo $1 &gt; /Users/thomas/.lasttrack
        echo "&lt;b&gt;$1&lt;/b&gt; by &lt;b&gt;$2&lt;/b&gt; on &lt;b&gt;$3&lt;/b&gt; at &lt;i&gt;${datum}&lt;/i&gt;" &gt;&gt; /Users/thomas/.trackhistory
        tail -n 10 /Users/thomas/.trackhistory | tee /Users/thomas/.trackhistory
    fi
fi
</pre>
        <div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = "xythobuz";
(function() {
var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async  = true;
dsq.src = "http://" + disqus_shortname + ".disqus.com/embed.js";
(document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]    ).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.   com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

    <div id="footer">
        Built with <a href="http://bitbucket.org/obensonne/poole">Poole</a>
        &middot;
        Licensed as <a href="http://creativecommons.org/licenses/by/3.0">CC-BY</a>
        &middot;
        <a href="http://validator.w3.org/check?uri=referer">Validate HTML</a>
        &middot;
        <a href="http://jigsaw.w3.org/css-validator/validator?uri=xythobuz.de%2Fstyle.css&amp;profile=css3">Validate CSS</a>
        &middot;
        <a href="http://feed1.w3.org/check.cgi?url=http://www.xythobuz.de/rss.xml">Validate RSS</a>
        &middot;
        <a href="http://www.validome.org/google/validate?url=http://www.xythobuz.de&amp;googleTyp=SITEMAP">Validate Sitemap</a>
    </div>
    <img src="/stats/count.php?img" alt="Analytics">
    <script src="http://gitforked.com/api/1.1/button.js" type="text/javascript"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-39163591-1']);
        _gaq.push(['_setDomainName', 'xythobuz.org']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</body>
</html>
