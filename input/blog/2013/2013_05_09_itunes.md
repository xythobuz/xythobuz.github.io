title: Blog
post: Musikgeschmack
date: 2013-05-09
comments: true
---

Ich könnte mir ja jetzt irgend ne seltsame, künstlerisch anmutende Begründung ausdenken, um das zu rechtfertigen. Eigentlich war mir aber nur ein bisschen langweilig. Und außerdem, wofür hat man denn heutzutage so viel Rechenleistung überall.

In diesem Sinne kann man sich jetzt anschauen, [welche Musik ich gerade höre][musik]. Erreichbar ist die Seite auch über den Notenschlüssel oben neben der Überschrift.

Und wie funktioniert das ganze? Auf meinem Rechner laufen, dank [GeekTool], einige AppleScripts um unter anderem Song-Informationen auf dem Desktop zu haben. Eines davon ruft jetzt ein Shell Script auf, was ungefähr wie folgt ausschaut:

<pre class="sh_sh">
#!/bin/sh

lasttrack=`cat /Users/thomas/.lasttrack`
host=`hostname`

if [ "$1" != "$lasttrack" ]; then
    if [ "$1" != "" ]; then
        ssh zaphod "echo \"&lt;html&gt;&lt;head&gt;&lt;meta charset="utf-8" /&gt;&lt;title&gt;Last Song&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;pre&gt;\" &gt; /var/www/lastmusic; echo \"Last song played on &lt;b&gt;${host}&lt;/b&gt; iTunes:\" &gt;&gt; /var/www/lastmusic; echo &gt;&gt; /var/www/lastmusic; echo \"&lt;b&gt;$1&lt;/b&gt; by &lt;b&gt;$2&lt;/b&gt; on the Album &lt;b&gt;$3&lt;/b&gt;\" &gt;&gt; /var/www/lastmusic; echo &gt;&gt; /var/www/lastmusic; echo `date` &gt;&gt; /var/www/lastmusic; echo \"&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;\" &gt;&gt; /var/www/lastmusic"
        echo $1 &gt; /Users/thomas/.lasttrack
    fi
fi
</pre>

Es kriegt also den Songnamen, Interpreten und Albumtitel als Parameter und schreibt per SSH die Seite auf meinem Server neu. Nicht hübsch, funktioniert aber... :D

 [musik]: lastmusic
 [geektool]: http://projects.tynsoe.org/en/geektool/
